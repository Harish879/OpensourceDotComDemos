const providers = ["github", "twitter", "facebook", "aad", "google"];
const loginButtons = document.getElementById("loginButtons");
providers.forEach(provider => {
    const button = document.createElement("button");
    button.innerText = `Login with ${provider}`;
    button.onclick = () => {
        window.location.href = `/.auth/login/${provider}`;
    };
    loginButtons.appendChild(button);
});

const userInfo = document.getElementById("userInfo");
fetch("/.auth/me")
    .then(response => response.json())
    .then(data => {
        if (data.clientPrincipal) {
            userInfo.innerText = `Hello ${data.clientPrincipal.userDetails}`;
            const button = document.createElement("button");
            button.innerText = "Logout";
            button.onclick = () => {
                window.location.href = "/.auth/logout";
            };
            loginButtons.appendChild(button);
        } else {
            userInfo.innerText = "Hello anonymous";
        }
    });
